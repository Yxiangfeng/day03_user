{"remainingRequest":"E:\\shixun\\homework\\demo10\\home1\\Vue\\node_modules\\babel-loader\\lib\\index.js!E:\\shixun\\homework\\demo10\\home1\\Vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\shixun\\homework\\demo10\\home1\\Vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!E:\\shixun\\homework\\demo10\\home1\\Vue\\src\\views\\user.vue?vue&type=script&lang=js","dependencies":[{"path":"E:\\shixun\\homework\\demo10\\home1\\Vue\\src\\views\\user.vue","mtime":1626780012902},{"path":"E:\\shixun\\homework\\demo10\\home1\\Vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\shixun\\homework\\demo10\\home1\\Vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\shixun\\homework\\demo10\\home1\\Vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\shixun\\homework\\demo10\\home1\\Vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1624994108000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoLmpzIjsKaW1wb3J0IHJlcXVlc3QgZnJvbSAiQC91dGlscy9yZXF1ZXN0IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJ1c2VyIiwKICBjb21wb25lbnRzOiB7fSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZm9ybToge30sCiAgICAgIGRpYWxvZ1Zpc2libGU6IGZhbHNlLAogICAgICBzZWFyY2g6ICcnLAogICAgICBjdXJyZW50UGFnZTogMSwKICAgICAgcGFnZVNpemU6IDUsCiAgICAgIHRvdGFsOiAwLAogICAgICB0YWJsZURhdGE6IFtdCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMubG9hZCgpOwogIH0sCiAgbWV0aG9kczogewogICAgbG9hZDogZnVuY3Rpb24gbG9hZCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJlcXVlc3QuZ2V0KCIvYXBpL2FsbFVzZXIvZmluZFBhZ2UyIiwgewogICAgICAgIHBhcmFtczogewogICAgICAgICAgcGFnZU51bTogdGhpcy5jdXJyZW50UGFnZSwKICAgICAgICAgIHBhZ2VTaXplOiB0aGlzLnBhZ2VTaXplLAogICAgICAgICAgc2VhcmNoOiB0aGlzLnNlYXJjaAogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgICBfdGhpcy50YWJsZURhdGEgPSByZXMuZGF0YS5yZWNvcmRzOwogICAgICAgIF90aGlzLnRvdGFsID0gcmVzLmRhdGEudG90YWw7CiAgICAgICAgX3RoaXMuY3VycmVudFBhZ2UgPSByZXMuZGF0YS5jdXJyZW50OwogICAgICAgIF90aGlzLnBhZ2VTaXplID0gcmVzLmRhdGEuc2l6ZTsKICAgICAgfSk7CiAgICB9LAogICAgQWRkOiBmdW5jdGlvbiBBZGQoKSB7CiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IHRydWU7CiAgICAgIHRoaXMuZm9ybSA9IHt9OwogICAgfSwKICAgIHNhdmVEYXRhOiBmdW5jdGlvbiBzYXZlRGF0YSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBpZiAodGhpcy5mb3JtLmlkKSB7CiAgICAgICAgcmVxdWVzdC5wdXQoIi9hcGkvYWxsVXNlci91cGRhdGVEYXRhIiwgdGhpcy5mb3JtKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CgogICAgICAgICAgaWYgKHJlcy5jb2RlID09IDApIHsKICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlKHsKICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgbWVzc2FnZTogIuS/ruaUueaIkOWKnyIKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpczIuJG1lc3NhZ2UoewogICAgICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICAgICAgbWVzc2FnZTogcmVzLm1zZwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXF1ZXN0LnBvc3QoIi9hcGkvYWxsVXNlci9zYXZlRGF0YSIsIHRoaXMuZm9ybSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwoKICAgICAgICAgIGlmIChyZXMuY29kZSA9PSAwKSB7CiAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgIG1lc3NhZ2U6ICLmt7vliqDmiJDlip8iCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlKHsKICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgIG1lc3NhZ2U6IHJlcy5tc2cKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHRoaXMuZGlhbG9nVmlzaWJsZSA9IGZhbHNlOwogICAgICB0aGlzLmxvYWQoKTsKICAgIH0sCiAgICBoYW5kbGVFZGl0OiBmdW5jdGlvbiBoYW5kbGVFZGl0KHJvdykgewogICAgICB0aGlzLmZvcm0gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHJvdykpOwogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSB0cnVlOwogICAgfSwKICAgIGhhbmRsZURlbGV0ZTogZnVuY3Rpb24gaGFuZGxlRGVsZXRlKGlkKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgY29uc29sZS5sb2coaWQpOwogICAgICByZXF1ZXN0LmRlbGV0ZSgiL2FwaS9hbGxVc2VyLyIgKyBpZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzKTsKCiAgICAgICAgaWYgKHJlcy5jb2RlID09IDApIHsKICAgICAgICAgIF90aGlzMy4kbWVzc2FnZSh7CiAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgbWVzc2FnZTogIuWIoOmZpOaIkOWKnyIKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczMuJG1lc3NhZ2UoewogICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICBtZXNzYWdlOiByZXMubXNnCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzLmxvYWQoKTsKICAgIH0sCiAgICBoYW5kbGVTaXplQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVTaXplQ2hhbmdlKHBhZ2VTaXplKSB7CiAgICAgIHRoaXMucGFnZVNpemUgPSBwYWdlU2l6ZTsKICAgICAgdGhpcy5sb2FkKCk7CiAgICB9LAogICAgaGFuZGxlQ3VycmVudENoYW5nZTogZnVuY3Rpb24gaGFuZGxlQ3VycmVudENoYW5nZShwYWdlTnVtKSB7CiAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSBwYWdlTnVtOwogICAgICB0aGlzLmxvYWQoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["E:\\shixun\\homework\\demo10\\home1\\Vue\\src\\views\\user.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"home\" style=\"padding: 10px\">\n<!--    <div style=\"margin: 10px 0\">-->\n<!--      <el-button type=\"primary\" @click=\"Add\">新增</el-button>-->\n<!--    </div>-->\n    <div style=\"margin: 10px 0\">\n      <el-input v-model=\"search\" placeholder=\"please input\" style=\"width:20%\" clearable></el-input>\n      <el-button type=\"primary\" style=\"margin-left:5px\" @click=\"load\">查询</el-button>\n    </div>\n    <el-table\n        :data=\"tableData\"\n        border\n        style=\"width: 100%\">\n      <el-table-column\n          sortable\n          prop=\"id\"\n          label=\"编号\" width=\"80px\">\n      </el-table-column>\n      <el-table-column\n          prop=\"name\"\n          label=\"姓名\">\n      </el-table-column>\n      <el-table-column\n          prop=\"gender\"\n          label=\"性别\">\n      </el-table-column>\n      <el-table-column\n          prop=\"age\"\n          label=\"年龄\">\n      </el-table-column>\n<!--      <el-table-column-->\n<!--          prop=\"address\"-->\n<!--          label=\"地址\">-->\n<!--      </el-table-column>-->\n      <el-table-column\n          prop=\"email\"\n          label=\"Email\">\n      </el-table-column>\n<!--      <el-table-column-->\n<!--          label=\"角色\">-->\n<!--        <template #default=\"scope\">-->\n<!--          <span v-if=\"scope.row.role===1\">管理员</span>-->\n<!--          <span v-if=\"scope.row.role===2\">普通员工</span>-->\n<!--          <span v-if=\"scope.row.role===3\">顾客</span>-->\n<!--        </template>-->\n<!--      </el-table-column>-->\n      <el-table-column\n          fixed=\"right\"\n          label=\"操作\"\n          width=\"150px\">\n        <template #default=\"scope\">\n<!--          <el-button size=\"mini\" @click=\"handleEdit(scope.row)\">编辑</el-button>-->\n          <el-popconfirm\n              confirmButtonText='好的'\n              cancelButtonText='不用了'\n              icon=\"el-icon-info\"\n              iconColor=\"red\"\n              title=\"这是一段内容确定删除吗？\" @confirm=\"handleDelete(scope.row.id)\"\n          >\n            <template #reference>\n              <el-button size=\"mini\" type=\"danger\">删除</el-button>\n            </template>\n          </el-popconfirm>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <div style=\"margin: 10px 0\">\n      <el-pagination\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n          :current-page=\"currentPage\"\n          :page-sizes=\"[5, 10, 20]\"\n          :page-size=\"pageSize\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          :total=\"total\">\n      </el-pagination>\n    </div>\n\n  </div>\n</template>\n\n<script>\n\n\nimport request from \"@/utils/request\";\n\nexport default {\n  name:\"user\",\n  components:{\n  },\n  data() {\n    return {\n      form:{},\n      dialogVisible:false,\n      search:'',\n      currentPage:1,\n      pageSize:5,\n      total:0,\n      tableData: []\n    }\n  },\n  created(){\n    this.load();\n  },\n  methods:{\n    load(){\n      request.get(\"/api/allUser/findPage2\",{\n       params:{\n         pageNum:this.currentPage,\n         pageSize:this.pageSize,\n         search:this.search\n       }\n      }).then(res =>{\n        console.log(res)\n        this.tableData = res.data.records\n        this.total=res.data.total\n        this.currentPage=res.data.current\n        this.pageSize=res.data.size\n      })\n    },\n\n    Add(){\n      this.dialogVisible = true\n      this.form={}\n    },\n\n    saveData(){\n      if(this.form.id){\n        request.put(\"/api/allUser/updateData\",this.form).then(res =>{\n          console.log(res)\n          if(res.code == 0){\n            this.$message({\n              type:\"success\",\n              message:\"修改成功\"\n            })}else{\n            this.$message({\n              type:\"error\",\n              message:res.msg\n            })\n          }\n        })\n      }else {\n        request.post(\"/api/allUser/saveData\", this.form).then(res => {\n          console.log(res)\n          if(res.code == 0){\n            this.$message({\n              type:\"success\",\n              message:\"添加成功\"\n            })}else{\n            this.$message({\n              type:\"error\",\n              message:res.msg\n            })\n          }\n        })\n      }\n      this.dialogVisible = false\n      this.load()\n    },\n\n    handleEdit(row){\n      this.form = JSON.parse(JSON.stringify(row))\n      this.dialogVisible = true\n    },\n\n    handleDelete(id){\n      console.log(id)\n      request.delete(\"/api/allUser/\"+id).then(res => {\n        console.log(res)\n        if(res.code == 0){\n          this.$message({\n            type:\"success\",\n            message:\"删除成功\"\n          })}else{\n          this.$message({\n            type:\"error\",\n            message:res.msg\n          })\n        }\n      })\n      this.load()\n    },\n\n    handleSizeChange(pageSize){\n      this.pageSize = pageSize\n      this.load()\n    },\n\n    handleCurrentChange(pageNum){\n      this.currentPage = pageNum\n      this.load()\n    }\n\n\n  }\n}\n</script>\n\n"],"sourceRoot":""}]}