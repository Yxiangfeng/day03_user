{"remainingRequest":"E:\\bysj\\2\\home1\\Vue\\node_modules\\babel-loader\\lib\\index.js!E:\\bysj\\2\\home1\\Vue\\node_modules\\vue-loader-v16\\dist\\templateLoader.js??ref--6!E:\\bysj\\2\\home1\\Vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\bysj\\2\\home1\\Vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!E:\\bysj\\2\\home1\\Vue\\src\\views\\income.vue?vue&type=template&id=699edbc3","dependencies":[{"path":"E:\\bysj\\2\\home1\\Vue\\src\\views\\income.vue","mtime":1626936369353},{"path":"E:\\bysj\\2\\home1\\Vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\bysj\\2\\home1\\Vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"E:\\bysj\\2\\home1\\Vue\\node_modules\\vue-loader-v16\\dist\\templateLoader.js","mtime":1624994109000},{"path":"E:\\bysj\\2\\home1\\Vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\bysj\\2\\home1\\Vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1624994108000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCByZXNvbHZlQ29tcG9uZW50IGFzIF9yZXNvbHZlQ29tcG9uZW50LCB3aXRoQ3R4IGFzIF93aXRoQ3R4LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrIH0gZnJvbSAidnVlIjsKCnZhciBfaG9pc3RlZF8xID0gLyojX19QVVJFX18qL19jcmVhdGVWTm9kZSgiZGl2IiwgewogIHN0eWxlOiB7CiAgICAiZm9udC1zaXplIjogIjMwcHgiLAogICAgImZvbnQtd2lkdGgiOiAiYm9sZCIsCiAgICAiZmxvYXQiOiAibGVmdCIsCiAgICAibWFyZ2luLXRvcCI6ICItNTBweCIKICB9Cn0sICLmgLvmlLblhaUiLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfMiA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoImRpdiIsIHsKICBpZDogIm1haW4xIiwKICBzdHlsZTogewogICAgIndpZHRoIjogIjEwMCUiLAogICAgImhlaWdodCI6ICIzMDBweCIsCiAgICAicG9zaXRpb24iOiAiYWJzb2x1dGUiLAogICAgImxlZnQiOiAiLTMzMHB4IiwKICAgICJ0b3AiOiAiMjMwcHgiCiAgfQp9LCBudWxsLCAtMQovKiBIT0lTVEVEICovCik7Cgp2YXIgX2hvaXN0ZWRfMyA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoImRpdiIsIHsKICBpZDogIm1haW4iLAogIHN0eWxlOiB7CiAgICAid2lkdGgiOiAiNjglIiwKICAgICJoZWlnaHQiOiAiNDAwcHgiLAogICAgIm1hcmdpbi1sZWZ0IjogIjM0NXB4IiwKICAgICJtYXJnaW4tdG9wIjogIjcwcHgiCiAgfQp9LCBudWxsLCAtMQovKiBIT0lTVEVEICovCik7CgpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHZhciBfY29tcG9uZW50X2VsX2lucHV0ID0gX3Jlc29sdmVDb21wb25lbnQoImVsLWlucHV0Iik7CgogIHZhciBfY29tcG9uZW50X2VsX2Zvcm1faXRlbSA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC1mb3JtLWl0ZW0iKTsKCiAgdmFyIF9jb21wb25lbnRfZWxfZm9ybSA9IF9yZXNvbHZlQ29tcG9uZW50KCJlbC1mb3JtIik7CgogIHZhciBfY29tcG9uZW50X2VsX2NhcmQgPSBfcmVzb2x2ZUNvbXBvbmVudCgiZWwtY2FyZCIpOwoKICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9lbF9jYXJkLCB7CiAgICBjbGFzczogImJveC1jYXJkIiwKICAgIHN0eWxlOiB7CiAgICAgICJiYWNrZ3JvdW5kLWNvbG9yIjogIiNmZmZmZjkiCiAgICB9CiAgfSwgewogICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gW19jcmVhdGVWTm9kZSgiZGl2IiwgbnVsbCwgW19ob2lzdGVkXzEsIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2VsX2Zvcm0sIHsKICAgICAgICBtb2RlbDogJGRhdGEuZm9ybSwKICAgICAgICBzdHlsZTogewogICAgICAgICAgImZsb2F0IjogImxlZnQiCiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9lbF9mb3JtX2l0ZW0sIG51bGwsIHsKICAgICAgICAgICAgZGVmYXVsdDogX3dpdGhDdHgoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHJldHVybiBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfZWxfaW5wdXQsIHsKICAgICAgICAgICAgICAgIG1vZGVsVmFsdWU6ICRkYXRhLmZvcm0sCiAgICAgICAgICAgICAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVsxXSB8fCAoX2NhY2hlWzFdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gJGRhdGEuZm9ybSA9ICRldmVudDsKICAgICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgICAgc3R5bGU6IHsKICAgICAgICAgICAgICAgICAgIndpZHRoIjogIjEwMCUiLAogICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIjEwMHB4IgogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0sIG51bGwsIDgKICAgICAgICAgICAgICAvKiBQUk9QUyAqLwogICAgICAgICAgICAgICwgWyJtb2RlbFZhbHVlIl0pXTsKICAgICAgICAgICAgfSksCiAgICAgICAgICAgIF86IDEKICAgICAgICAgICAgLyogU1RBQkxFICovCgogICAgICAgICAgfSldOwogICAgICAgIH0pLAogICAgICAgIF86IDEKICAgICAgICAvKiBTVEFCTEUgKi8KCiAgICAgIH0sIDgKICAgICAgLyogUFJPUFMgKi8KICAgICAgLCBbIm1vZGVsIl0pLCBfaG9pc3RlZF8yLCBfaG9pc3RlZF8zXSldOwogICAgfSksCiAgICBfOiAxCiAgICAvKiBTVEFCTEUgKi8KCiAgfSk7Cn0="},{"version":3,"sources":["E:\\bysj\\2\\home1\\Vue\\src\\views\\income.vue"],"names":[],"mappings":";;8BAGM,YAAA,CAAmF,KAAnF,EAAmF;AAA9E,EAAA,KAAoE,EAApE;AAAA,iBAAA,MAAA;AAAA,kBAAA,MAAA;AAAA,aAAA,MAAA;AAAA,kBAAA;AAAA;AAA8E,CAAnF,EAA0E,KAA1E,EAA6E,CAAA;AAAA;AAA7E,C;;8BAQA,YAAA,CAAiG,KAAjG,EAAiG;AAA5F,EAAA,EAAE,EAAC,OAAyF;AAAjF,EAAA,KAA0E,EAA1E;AAAA,aAAA,MAAA;AAAA,cAAA,OAAA;AAAA,gBAAA,UAAA;AAAA,YAAA,QAAA;AAAA,WAAA;AAAA;AAAiF,CAAjG,E,IAAA,E;;AAAA,C;;8BACA,YAAA,CAA0F,KAA1F,EAA0F;AAArF,EAAA,EAAE,EAAC,MAAkF;AAA3E,EAAA,KAAoE,EAApE;AAAA,aAAA,KAAA;AAAA,cAAA,OAAA;AAAA,mBAAA,OAAA;AAAA,kBAAA;AAAA;AAA2E,CAA1F,E,IAAA,E;;AAAA,C;;;;;;;;;;;uBAXJ,YAAA,CAaU,kBAbV,EAaU;AAbD,IAAA,KAAK,EAAC,UAaL;AAbgB,IAAA,KAAiC,EAAjC;AAAA,0BAAA;AAAA;AAahB,GAbV,E;sBACE;AAAA,aAWM,CAXN,YAAA,CAWM,KAXN,EAWM,IAXN,EAWM,CAVJ,UAUI,EATJ,YAAA,CAIU,kBAJV,EAIU;AAJA,QAAA,KAAK,EAAE,KAAA,CAAA,IAIP;AAJa,QAAA,KAAkB,EAAlB;AAAA,mBAAA;AAAA;AAIb,OAJV,E;0BACE;AAAA,iBAEe,CAFf,YAAA,CAEe,uBAFf,EAEe,IAFf,EAEe;8BADb;AAAA,qBAAsE,CAAtE,YAAA,CAAsE,mBAAtE,EAAsE;4BAAnD,KAAA,CAAA,IAAmD;;yBAAnD,KAAA,CAAA,IAAA,GAAI,M;kBAA+C;AAA7C,gBAAA,KAAgC,EAAhC;AAAA,2BAAA,MAAA;AAAA,4BAAA;AAAA;AAA6C,eAAtE,E,IAAA,E;;AAAA,gB,cAAA,CAAsE,CAAtE;AAAA,a,CACa;;;;AAAA,WAFf,CAEe,CAFf;AAAA,S;;;;OADF,E;;AAAA,Q,SAAA,CASI,EAFJ,UAEI,EADJ,UACI,CAXN,CAWM,CAXN;AAAA,K;;;;GADF,C","sourcesContent":["<template>\r\n  <el-card class=\"box-card\" style=\"background-color: #fffff9\">\r\n    <div>\r\n      <div style=\"font-size: 30px;font-width:bold;float:left;margin-top: -50px\">总收入</div>\r\n      <el-form :model=\"form\" style=\"float:left\">\r\n        <el-form-item >\r\n          <el-input v-model=\"form\" style=\"width:100%;height: 100px\" ></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n\r\n\r\n      <div id=\"main1\" style=\"width:100%;height: 300px;position: absolute;left: -330px;top:230px\"></div>\r\n      <div id=\"main\" style=\"width: 68%;height: 400px;margin-left: 345px;margin-top: 70px\"></div>\r\n    </div>\r\n  </el-card>\r\n</template>\r\n<script>\r\nimport request from \"@/utils/request\";\r\nimport * as echarts from \"echarts\";\r\n\r\nexport default {\r\n  name: 'income',\r\n  components: {},\r\n  props: {},\r\n  data() {\r\n    return {\r\n      worklifePieList:[],\r\n      da:[],\r\n      info:{},\r\n      data:{},\r\n      len:\"\",\r\n      form:{},\r\n      charts: '',\r\n      /*  opinion: [\"1\", \"3\", \"3\", \"4\", \"5\"],*/\r\n      opinionData: [],\r\n      date:[]\r\n    }\r\n  },\r\n  created() {\r\n    this.init()\r\n  },\r\n\r\n  methods: {\r\n    init(){\r\n      request.get(\"/api/dishorder/totalIncome\").then(res=>{\r\n        this.form = res.data\r\n      })\r\n      request.get(\"/api/dishorder/statistics\").then(res=>{\r\n        this.data = res.data;\r\n        this.len = this.data.length;\r\n        this.da=[];          //赋值为空避免重复\r\n        for(let i=0;i<this.len;i++){\r\n          this.info={};\r\n          this.info.name=this.data[i].dishName;            //对应数据库取出的值\r\n          this.info.value=this.data[i].dishNum;  //对应数据库取出的值\r\n          this.da.push(this.info);\r\n        }\r\n        this.worklifePieList=this.da\r\n        this.drawChart()\r\n      })\r\n      request.get(\"/api/dishorder/statisticsIncome\").then(res=>{\r\n        this.opinionData=res.data\r\n        this.drawLine()\r\n      })\r\n      request.get(\"/api/dishorder/statisticsDate\").then(res=>{\r\n        this.date=res.data\r\n        this.drawLine()\r\n      })\r\n    },\r\n    drawChart() {\r\n      var myChart = echarts.init(document.getElementById('main1'));\r\n      var option = {\r\n        title : {\r\n          text: '嗨餐厅最受欢迎的食物',//主标题\r\n          x:'center',//x轴方向对齐方式\r\n        },\r\n        tooltip : {\r\n          trigger: 'item',\r\n          formatter: \"{a} <br/>{b} : {c} ({d}%)\"\r\n        },\r\n        legend: {\r\n          orient: 'vertical',\r\n          bottom: 'bottom',\r\n          data: ['西餐','中餐','点心']\r\n        },\r\n        series : [\r\n          {\r\n            name: '类别',\r\n            type: 'pie',\r\n            radius : '55%',\r\n            center: ['50%', '60%'],\r\n            data:this.worklifePieList,\r\n            itemStyle: {\r\n              emphasis: {\r\n                shadowBlur: 10,\r\n                shadowOffsetX: 0,\r\n                shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n              }\r\n            }\r\n          }\r\n        ]\r\n      }\r\n        myChart.setOption(option)\r\n    },\r\n    drawLine() {\r\n      this.charts = echarts.init(document.getElementById('main'))\r\n      this.charts.setOption({\r\n        tooltip: {\r\n          trigger: 'axis'\r\n        },\r\n        legend: {\r\n          data: ['近5日收益趋势折线图']\r\n        },\r\n        grid: {\r\n          left: '3%',\r\n          right: '4%',\r\n          bottom: '3%',\r\n          containLabel: true\r\n        },\r\n        xAxis: {\r\n          type: 'category',\r\n          boundaryGap: false,\r\n          // data: [\"1\",\"2\",\"3\",\"4\",\"5\"]\r\n          data:this.date\r\n        },\r\n        yAxis: {\r\n          type: 'value'\r\n        },\r\n        series: [{\r\n          name: '近5日收益趋势折线图',\r\n          type: 'line',\r\n          stack: '总量',\r\n          data: this.opinionData,\r\n          itemStyle : { normal : { lineStyle:{ color:'#324ED9'},color:'#324ED9'},},\r\n        }]\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>\r\n"],"sourceRoot":""}]}