{"remainingRequest":"E:\\shixun\\home1\\Vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!E:\\shixun\\home1\\Vue\\src\\views\\income.vue?vue&type=style&index=0&id=699edbc3&lang=css","dependencies":[{"path":"E:\\shixun\\home1\\Vue\\src\\views\\income.vue","mtime":1626925437216},{"path":"E:\\shixun\\home1\\Vue\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\shixun\\home1\\Vue\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":1624994109000},{"path":"E:\\shixun\\home1\\Vue\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\shixun\\home1\\Vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\shixun\\home1\\Vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1624994108000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQplbC1mb3JtLWl0ZW1fX2xhYmVsIHsNCiAgZm9udC1zaXplOiAyMHB4Ow0KfQ0K"},{"version":3,"sources":["E:\\shixun\\home1\\Vue\\src\\views\\income.vue"],"names":[],"mappings":";AA8IA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EAClB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AACjB","file":"E:/shixun/home1/Vue/src/views/income.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <el-card class=\"box-card\" style=\"background-color: #fffff9\">\r\n    <div>\r\n      <div style=\"font-size: 30px;font-width:bold;float:left;margin-top: -50px\">总收入</div>\r\n      <el-form :model=\"form\" style=\"float:left\">\r\n        <el-form-item >\r\n          <el-input v-model=\"form\" style=\"width:100%;height: 100px\" ></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n\r\n\r\n      <div id=\"main1\" style=\"width:100%;height: 300px;position: absolute;left: -330px;top:230px\"></div>\r\n      <div id=\"main\" style=\"width: 68%;height: 400px;margin-left: 345px;margin-top: 70px\"></div>\r\n    </div>\r\n  </el-card>\r\n</template>\r\n<script>\r\nimport request from \"@/utils/request\";\r\nimport * as echarts from \"echarts\";\r\n\r\nexport default {\r\n  name: 'income',\r\n  components: {},\r\n  props: {},\r\n  data() {\r\n    return {\r\n      worklifePieList:[],\r\n      da:[],\r\n      info:{},\r\n      data:{},\r\n      len:\"\",\r\n      form:{},\r\n      charts: '',\r\n      /*  opinion: [\"1\", \"3\", \"3\", \"4\", \"5\"],*/\r\n      opinionData: [],\r\n      date:[]\r\n    }\r\n  },\r\n  mounted() {\r\n    this.init()\r\n  },\r\n\r\n  methods: {\r\n    init(){\r\n      request.get(\"/api/dishorder/totalIncome\").then(res=>{\r\n        this.form = res.data\r\n      })\r\n      request.get(\"/api/dishorder/statistics\").then(res=>{\r\n        this.data = res.data;\r\n        this.len = this.data.length;\r\n        this.da=[];          //赋值为空避免重复\r\n        for(let i=0;i<this.len;i++){\r\n          this.info={};\r\n          this.info.name=this.data[i].dishName;            //对应数据库取出的值\r\n          this.info.value=this.data[i].dishNum;  //对应数据库取出的值\r\n          this.da.push(this.info);\r\n        }\r\n        this.worklifePieList=this.da\r\n        this.drawChart()\r\n      })\r\n      request.get(\"/api/dishorder/statisticsIncome\").then(res=>{\r\n        this.opinionData=res.data\r\n        this.drawLine()\r\n      })\r\n      request.get(\"/api/dishorder/statisticsDate\").then(res=>{\r\n        this.date=res.data\r\n        this.drawLine()\r\n      })\r\n    },\r\n    drawChart() {\r\n      var myChart = echarts.init(document.getElementById('main1'));\r\n      var option = {\r\n        title : {\r\n          text: '嗨餐厅最受欢迎的食物',//主标题\r\n          x:'center',//x轴方向对齐方式\r\n        },\r\n        tooltip : {\r\n          trigger: 'item',\r\n          formatter: \"{a} <br/>{b} : {c} ({d}%)\"\r\n        },\r\n        legend: {\r\n          orient: 'vertical',\r\n          bottom: 'bottom',\r\n          data: ['西餐','中餐','点心']\r\n        },\r\n        series : [\r\n          {\r\n            name: '类别',\r\n            type: 'pie',\r\n            radius : '55%',\r\n            center: ['50%', '60%'],\r\n            data:this.worklifePieList,\r\n            itemStyle: {\r\n              emphasis: {\r\n                shadowBlur: 10,\r\n                shadowOffsetX: 0,\r\n                shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n              }\r\n            }\r\n          }\r\n        ]\r\n      }\r\n        myChart.setOption(option)\r\n    },\r\n    drawLine() {\r\n      this.charts = echarts.init(document.getElementById('main'))\r\n      this.charts.setOption({\r\n        tooltip: {\r\n          trigger: 'axis'\r\n        },\r\n        legend: {\r\n          data: ['近5日收益趋势折线图']\r\n        },\r\n        grid: {\r\n          left: '3%',\r\n          right: '4%',\r\n          bottom: '3%',\r\n          containLabel: true\r\n        },\r\n        xAxis: {\r\n          type: 'category',\r\n          boundaryGap: false,\r\n          // data: [\"1\",\"2\",\"3\",\"4\",\"5\"]\r\n          data:this.date\r\n        },\r\n        yAxis: {\r\n          type: 'value'\r\n        },\r\n        series: [{\r\n          name: '近5日收益趋势折线图',\r\n          type: 'line',\r\n          stack: '总量',\r\n          data: this.opinionData,\r\n          itemStyle : { normal : { lineStyle:{ color:'#324ED9'},color:'#324ED9'},},\r\n        }]\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\nel-form-item__label {\r\n  font-size: 20px;\r\n}\r\n</style>\r\n"]}]}