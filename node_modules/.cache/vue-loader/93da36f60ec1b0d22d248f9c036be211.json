{"remainingRequest":"E:\\shixun\\workspace\\home1\\Vue\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!E:\\shixun\\workspace\\home1\\Vue\\src\\views\\manager.vue?vue&type=style&index=0&id=2ced2003&lang=css","dependencies":[{"path":"E:\\shixun\\workspace\\home1\\Vue\\src\\views\\manager.vue","mtime":1626347721001},{"path":"E:\\shixun\\workspace\\home1\\Vue\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\shixun\\workspace\\home1\\Vue\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":1624994109000},{"path":"E:\\shixun\\workspace\\home1\\Vue\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\shixun\\workspace\\home1\\Vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\shixun\\workspace\\home1\\Vue\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1624994108000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci8qIOino+WGs2VsZW1lbnQgdGFibGUg6KGo5aS05ZKM6KGo5L2T6ZSZ54mI6Zeu6aKYICovCi5lbC10YWJsZSB0aHsKICBkaXNwbGF5OiB0YWJsZS1jZWxsIWltcG9ydGFudDsKfQo="},{"version":3,"sources":["E:\\shixun\\workspace\\home1\\Vue\\src\\views\\manager.vue"],"names":[],"mappings":";AAgHA,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;AAC9B,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;EACV,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC/B","file":"E:/shixun/workspace/home1/Vue/src/views/manager.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"home\" style=\"padding: 10px\">\n    <!--    <img alt=\"Vue logo\" src=\"../assets/logo.png\">-->\n    <div style=\"margin: 10px 0\">\n      <el-button type=\"primary\" @click=\"Add\">新增</el-button>\n      <el-button type=\"primary\">未定功能</el-button>\n    </div>\n    <div style=\"margin: 10px 0\">\n      <el-input v-model=\"search\" placeholder=\"please input\" style=\"width:20%\" clearable></el-input>\n      <el-button type=\"primary\" style=\"margin-left:5px\" @click=\"load\">查询</el-button>\n    </div>\n    <el-table\n        :data=\"tableData\"\n        border\n        style=\"width: 100%\">\n      <el-table-column\n          sortable\n          prop=\"managerID\"\n          label=\"编号\">\n      </el-table-column>\n      <el-table-column\n          prop=\"managerName\"\n          label=\"姓名\">\n      </el-table-column>\n      <el-table-column\n          prop=\"managerCode\"\n          label=\"密码\">\n      </el-table-column>\n      <el-table-column\n          prop=\"managerPhone\"\n          label=\"电话\">\n      </el-table-column>\n      <el-table-column\n          prop=\"managerEmail\"\n          label=\"邮箱\">\n      </el-table-column>\n      <el-table-column\n          prop=\"managerAddress\"\n          label=\"地址\">\n      </el-table-column>\n      <el-table-column\n          prop=\"managerLog\"\n          label=\"登录日志\">\n      </el-table-column>\n<!--      <el-table-column-->\n<!--          fixed=\"right\"-->\n<!--          label=\"操作\">-->\n<!--        <template #default=\"scope\">-->\n<!--          <el-popconfirm-->\n<!--              confirmButtonText='好的'-->\n<!--              cancelButtonText='不用了'-->\n<!--              icon=\"el-icon-info\"-->\n<!--              iconColor=\"red\"-->\n<!--              title=\"这是一段内容确定删除吗？\" @confirm=\"handleDelete(scope.row.managerID)\"-->\n<!--          >-->\n<!--            <template #reference>-->\n<!--              <el-button size=\"mini\" type=\"danger\">删除</el-button>-->\n<!--            </template>-->\n<!--          </el-popconfirm>-->\n<!--        </template>-->\n\n<!--      </el-table-column>-->\n    </el-table>\n\n    <div style=\"margin: 10px 0\">\n      <el-pagination\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n          :current-page=\"currentPage\"\n          :page-sizes=\"[5, 10, 20]\"\n          :page-size=\"pageSize\"\n          layout=\"total, sizes, prev, pager, next, jumper\"\n          :total=\"total\">\n      </el-pagination>\n    </div>\n\n    <el-dialog title=\"提示\" v-model=\"dialogVisible\" width=\"30%\">\n      <el-form :model=\"form\" label-width=\"120px\">\n        <el-form-item label=\"用户名\">\n          <el-input v-model=\"form.managerName\" style=\"width:80%\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"密码\">\n          <el-input v-model=\"form.managerCode\" style=\"width:80%\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"address\">\n          <el-select v-model=\"form.managerAddress\" placeholder=\"请选择地区\">\n            <el-option label=\"上海\" value=\"上海\"></el-option>\n            <el-option label=\"北京\" value=\"北京\"></el-option>\n            <el-option label=\"四川\" value=\"四川\"></el-option>\n            <el-option label=\"重庆\" value=\"重庆\"></el-option>\n            <el-option label=\"西安\" value=\"西安\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"电话\">\n          <el-input v-model=\"form.managerPhone\" style=\"width:80%\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"Email\">\n          <el-input v-model=\"form.managerEmail\" style=\"width:80%\"></el-input>\n        </el-form-item>\n      </el-form>\n      <template #footer>\n        <span class=\"dialog-footer\">\n          <el-button @click=\"dialogVisible = false\">取 消</el-button>\n          <el-button type=\"primary\" @click=\"saveData\">确 定</el-button>\n        </span>\n      </template>\n    </el-dialog>\n\n  </div>\n</template>\n\n<style>\n/* 解决element table 表头和表体错版问题 */\n.el-table th{\n  display: table-cell!important;\n}\n</style>\n\n<script>\n\n\nimport request from \"@/utils/request\";\n\nexport default {\n  name:\"manager\",\n  components:{\n  },\n  data() {\n    return {\n      form:{},\n      dialogVisible:false,\n      search:'',\n      currentPage:1,\n      pageSize:5,\n      total:0,\n      tableData: []\n    }\n  },\n  created(){\n    this.load();\n  },\n  methods:{\n    load(){\n      request.get(\"/api/manager/findPage\",{\n        params:{\n          pageNum:this.currentPage,\n          pageSize:this.pageSize,\n          search:this.search\n        }\n      }).then(res =>{\n        console.log(res)\n        this.tableData = res.data.records\n        this.total=res.data.total\n        this.currentPage=res.data.current\n        this.pageSize=res.data.size\n      })\n    },\n\n    Add(){\n      this.dialogVisible = true\n      this.form={}\n    },\n\n    saveData(){\n      if(this.form.managerID){\n        request.put(\"/api/manager/updateData\",this.form).then(res =>{\n          console.log(res)\n          if(res.code == 0){\n            this.$message({\n              type:\"success\",\n              message:\"修改成功\"\n            })}else{\n            this.$message({\n              type:\"error\",\n              message:res.msg\n            })\n          }\n        })\n      }else {\n        request.post(\"/api/manager/saveData\", this.form).then(res => {\n          console.log(res)\n          if(res.code == 0){\n            this.$message({\n              type:\"success\",\n              message:\"添加成功\"\n            })}else{\n            this.$message({\n              type:\"error\",\n              message:res.msg\n            })\n          }\n        })\n      }\n      this.dialogVisible = false\n      this.load()\n    },\n\n    handleEdit(row){\n      this.form = JSON.parse(JSON.stringify(row))\n      this.dialogVisible = true\n    },\n\n    handleDelete(managerID){\n      console.log(managerID)\n      request.delete(\"/api/manager/\"+managerID).then(res => {\n        console.log(res)\n        if(res.code == 0){\n          this.$message({\n            type:\"success\",\n            message:\"删除成功\"\n          })}else{\n          this.$message({\n            type:\"error\",\n            message:res.msg\n          })\n        }\n      })\n      this.load()\n    },\n\n    handleSizeChange(pageSize){\n      this.pageSize = pageSize\n      this.load()\n    },\n\n    handleCurrentChange(pageNum){\n      this.currentPage = pageNum\n      this.load()\n    }\n\n\n  }\n}\n</script>"]}]}